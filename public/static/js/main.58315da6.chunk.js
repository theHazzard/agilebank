(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,function(e,t,a){e.exports=a(12)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(4),r=a.n(o),l=(a(10),a(1));function s(e){var t=e.client,a=e.amount;return c.a.createElement("header",{className:"column is-narrow",style:{textAlign:"center",width:250,height:"100vh",backgroundColor:"currentColor"}},c.a.createElement("img",{src:"https://api.adorable.io/avatars/285/".concat(+Date.now(),".png")}),c.a.createElement("h3",{className:"is-size-3",style:{color:"white"}},t),c.a.createElement("p",{style:{color:"white"}},a))}var i=a(2),u=c.a.createContext(),m={version:0,account:{},movements:[]};function d(e,t){switch(t.type){case"UPDATE":return Object(i.a)({},e,{},t.payload);case"FORCE_UPDATE":return Object(i.a)({},e,{version:e.version+1});default:return e}}function p(e){var t=c.a.useReducer(d,m),a=Object(l.a)(t,2),n={state:a[0],dispatch:a[1]};return c.a.createElement(u.Provider,{value:n},e.children)}function v(e){var t=e.transactions,a=Object(n.useRef)(),o=Object(n.useRef)(),r=c.a.useContext(u),s=(r.state,r.dispatch);console.log(t);var i=Object(n.useState)(null),m=Object(l.a)(i,2),d=m[0],p=m[1];return c.a.createElement("section",{className:"container"},c.a.createElement("section",{className:"accordions"},(!t||0===(null===t||void 0===t?void 0:t.length))&&c.a.createElement("p",{className:"is-size-4"},"No movements have been done yet."),null===t||void 0===t?void 0:t.map((function(e,a){return c.a.createElement("article",{className:"accordion ".concat(d===a&&"is-active")},c.a.createElement("div",{className:"accordion-header toggle",onClick:function(){return p(a)},style:{textAlign:"center",color:"credit"===t.type?"green":"red"}},"$ ",e.amount),c.a.createElement("div",{class:"accordion-body"},c.a.createElement("div",{class:"accordion-content"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. ",c.a.createElement("strong",null,"Pellentesque risus mi"),", tempus quis placerat ut, porta nec nulla. Vestibulum rhoncus ac ex sit amet fringilla. Nullam gravida purus diam, et dictum ",c.a.createElement("a",null,"felis venenatis")," efficitur. Aenean ac ",c.a.createElement("em",null,"eleifend lacus"),", in mollis lectus. Donec sodales, arcu et sollicitudin porttitor, tortor urna tempor ligula, id porttitor mi magna a neque. Donec dui urna, vehicula et sem eget, facilisis sodales sem.")))}))),c.a.createElement("section",null,c.a.createElement("div",{class:"field has-addons"},c.a.createElement("p",{class:"control"},c.a.createElement("span",{class:"select"},c.a.createElement("select",{ref:a},c.a.createElement("option",{value:"credit"},"Add"),c.a.createElement("option",{value:"debit"},"Extract")))),c.a.createElement("p",{class:"control is-expanded"},c.a.createElement("input",{ref:o,class:"input",type:"text",placeholder:"Amount of money"})),c.a.createElement("p",{class:"control"},c.a.createElement("a",{class:"button",onClick:function(e){e.preventDefault();var t=a.current.value,n=o.current.value;fetch("http://127.0.0.1:4000/api/transactions",{method:"POST",body:JSON.stringify({type:t,amount:n}),headers:{"Content-Type":"application/json"}}).then((function(){return s({type:"FORCE_UPDATE",payload:[]})}))}},"Transfer")))))}a(11);var f=function(){var e=c.a.useContext(u),t=e.state,a=e.dispatch,o=t?t.version:0;Object(n.useEffect)((function(){return Promise.all([fetch("http://127.0.0.1:4000/api/account").then((function(e){return e.json()})),fetch("http://127.0.0.1:4000/api/transactions").then((function(e){return e.json()}))]).then((function(e){var t=Object(l.a)(e,2),n=t[0],c=t[1];return a({type:"UPDATE",payload:{account:n,movements:c}})})),function(){}}),[o]);var r=null===t||void 0===t?void 0:t.account,i=r.name,m=r.amount,d=t.movements;return c.a.createElement("div",{className:"columns"},c.a.createElement(s,{client:i,amount:m}),c.a.createElement("section",{className:"column"},c.a.createElement(v,{transactions:d})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(p,null,c.a.createElement(f,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[5,1,2]]]);
//# sourceMappingURL=main.58315da6.chunk.js.map